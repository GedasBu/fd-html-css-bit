<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculator</title>
    <link rel="stylesheet" href="calculators.css">
</head>

<body>
    <div class="calc-base">
        <div id="actions"></div>
        <div id="result"></div>

        <div class="functions">%</div>
        <div class="functions">CE</div>
        <div class="functions" onclick="erase()">C</div>
        <div class="functions" onclick="eraseLastNumber()">DEL</div>

        <div class="functions"></div>
        <div class="functions"></div>
        <div class="functions"></div>
        <div class="functions" onclick="actionPress('/')">/</div>

        <div class="Number" onclick="numberPress(7)">7</div>
        <div class="Number" onclick="numberPress(8)">8</div>
        <div class="Number" onclick="numberPress(9)">9</div>
        <div class="functions" onclick="actionPress('x')">x</div>

        <div class="Number" onclick="numberPress(4)">4</div>
        <div class="Number" onclick="numberPress(5)">5</div>
        <div class="Number" onclick="numberPress(6)">6</div>
        <div class="functions" onclick="actionPress('-')">-</div>

        <div class="Number" onclick="numberPress(1)">1</div>
        <div class="Number" onclick="numberPress(2)">2</div>
        <div class="Number" onclick="numberPress(3)">3</div>
        <div class="functions" onclick="actionPress('+')">+</div>

        <div class="Number"></div>
        <div class="Number" onclick="numberPress(0)">0</div>
        <div class="Number">.</div>
        <div class="equals" onclick="equals()">=</div>

        <script>
            let resultRow = document.getElementById('result');
            let actionRow = document.getElementById('actions');
            let isActionPressed = false;
            let isEqualsPressed = false;
            resultRow.innerHTML = '0';

            function numberPress(number) {
              
                if (isActionPressed) {
                    resultRow.innerHTML = number;
                    isActionPressed = false;
                }
                else if (resultRow.innerHTML === '0') {
                    resultRow.innerHTML = number;
                }
                else {
                    resultRow.innerHTML = resultRow.innerHTML + number;
                }

            }
            function erase() {
                resultRow.innerHTML = '0';
                actionRow.innerHTML = ' ';
            }
            function eraseLastNumber() {
                if (resultRow.innerHTML.length === 1) {
                    resultRow.innerHTML = '0'
                } else {
                    resultRow.innerHTML = resultRow.innerHTML.substring(0, resultRow.innerHTML.length - 1)
                }

            }
            function actionPress(action) {
                actionRow.innerHTML = resultRow.innerHTML + ' ' + action;
                isActionPressed = true;

            }
            function equals() {
                let numberAndAction = actionRow.innerHTML.split(' ');
                console.log(numberAndAction[1]);
           actionRow.innerHTML = actionRow.innerHTML + ' ' + resultRow.innerHTML + ' =';
            if (numberAndAction[1] === '+') {
              resultRow.innerHTML = Number(numberAndAction[0]) + Number(resultRow.innerHTML);

            }
            else if (numberAndAction[1] === '-') {
                resultRow.innerHTML = Number(numberAndAction[0]) - Number(resultRow.innerHTML);

            }
            else if (numberAndAction[1] === '/') {
                resultRow.innerHTML = Number(numberAndAction[0]) / Number(resultRow.innerHTML);

            }
            else if (numberAndAction[1] === 'x') {
                resultRow.innerHTML = Number(numberAndAction[0]) * Number(resultRow.innerHTML);

            }
            
            // isActionPressed = true;
            isEqualsPressed = true
        }

        </script>
    </div>



</body>

</html>